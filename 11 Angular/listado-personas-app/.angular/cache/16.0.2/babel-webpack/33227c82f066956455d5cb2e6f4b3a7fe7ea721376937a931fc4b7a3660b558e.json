{"ast":null,"code":"import { Persona } from '../../persona.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../logging.service\";\nimport * as i2 from \"../../personas.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction FormularioComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function FormularioComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.eliminarPersona());\n    });\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nclass FormularioComponent {\n  // @ViewChild('nombreInput')\n  // nombreInput:ElementRef;\n  // @ViewChild('apellidoInput')\n  // apellidoInput:ElementRef;\n  // agregarPersona(){\n  //   let persona1=new Persona(this.nombreInput,this.apellidoInput);\n  //   this.personaCreada.emit(persona1);\n  // }\n  // agregarPersona(nombreInput:HTMLInputElement, apellidoInput:HTMLInputElement){\n  //   let persona1=new Persona(nombreInput.value, apellidoInput.value);\n  //   this.personaCreada.emit(persona1);\n  // }\n  //Inyeccion de dependencia\n  constructor(loggingService, personasService, router, route) {\n    this.loggingService = loggingService;\n    this.personasService = personasService;\n    this.router = router;\n    this.route = route;\n    // @Output()\n    // personaCreada=new EventEmitter<Persona>();\n    this.nombreInput = '';\n    this.apellidoInput = '';\n    this.personasService.saludar.subscribe(i => alert('El indici es:' + i));\n  }\n  // agregarPersona(){\n  //   let persona1=new Persona(this.nombreInput.nativeElement.value, this.apellidoInput.nativeElement.value);\n  //   this.loggingService.enviaMensajeAconsoloca(\"Enviamos persona:\"+persona1.nombre);\n  //   this.personasService.agregarPersona(persona1);\n  //   //this.personaCreada.emit(persona1);\n  // }\n  ngOnInit() {\n    this.i = this.route.snapshot.params['id'];\n    this.modoEdicion = +this.route.snapshot.queryParams['modoEdicion']; //Con + convierte automaticamente a entero\n    if (this.modoEdicion != null && this.modoEdicion === 1) {\n      //Si el indice es diferente de nulo, entonces editar\n      let persona = this.personasService.encontrarPersona(this.i);\n      this.nombreInput = persona.nombre;\n      this.apellidoInput = persona.apellido;\n    }\n  }\n  onGuardarPersona() {\n    let persona1 = new Persona(this.nombreInput, this.apellidoInput);\n    // this.loggingService.enviaMensajeAconsoloca(\n    //   'Enviamos persona:' + persona1.nombre\n    // );\n    if (this.modoEdicion != null && this.modoEdicion === 1) {\n      //modo edicion\n      this.personasService.modificarPersona(this.i, persona1);\n    } else {\n      this.personasService.agregarPersona(persona1);\n    }\n    this.router.navigate(['personas']);\n  }\n  eliminarPersona() {\n    if (this.i != null) {\n      this.personasService.eliminarPersona(this.i);\n    }\n    this.router.navigate(['personas']);\n  }\n}\nFormularioComponent.ɵfac = function FormularioComponent_Factory(t) {\n  return new (t || FormularioComponent)(i0.ɵɵdirectiveInject(i1.LoggingService), i0.ɵɵdirectiveInject(i2.PersonasService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nFormularioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormularioComponent,\n  selectors: [[\"app-formulario\"]],\n  decls: 8,\n  vars: 3,\n  consts: [[1, \"box\"], [1, \"item\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [\"type\", \"text\", \"name\", \"nombre\", \"id\", \"nombre\", \"placeholder\", \"Nombre\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"apellido\", \"id\", \"apellido\", \"placeholder\", \"apellido\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 2, \"cursor\", \"pointer\"], [\"type\", \"submit\", \"style\", \"cursor:pointer\", \"class\", \"buttonRed\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"buttonRed\", 2, \"cursor\", \"pointer\", 3, \"click\"]],\n  template: function FormularioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function FormularioComponent_Template_form_ngSubmit_1_listener() {\n        i0.ɵɵrestoreView(_r4);\n        const _r0 = i0.ɵɵreference(2);\n        return i0.ɵɵresetView(_r0.valid && ctx.onGuardarPersona());\n      });\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function FormularioComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.nombreInput = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function FormularioComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.apellidoInput = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 5);\n      i0.ɵɵtext(6, \"+\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, FormularioComponent_button_7_Template, 2, 0, \"button\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.nombreInput);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.apellidoInput);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.i != null);\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { FormularioComponent };","map":{"version":3,"names":["Persona","i0","ɵɵelementStart","ɵɵlistener","FormularioComponent_button_7_Template_button_click_0_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","eliminarPersona","ɵɵtext","ɵɵelementEnd","FormularioComponent","constructor","loggingService","personasService","router","route","nombreInput","apellidoInput","saludar","subscribe","i","alert","ngOnInit","snapshot","params","modoEdicion","queryParams","persona","encontrarPersona","nombre","apellido","onGuardarPersona","persona1","modificarPersona","agregarPersona","navigate","ɵɵdirectiveInject","i1","LoggingService","i2","PersonasService","i3","Router","ActivatedRoute","selectors","decls","vars","consts","template","FormularioComponent_Template","rf","ctx","FormularioComponent_Template_form_ngSubmit_1_listener","_r4","_r0","ɵɵreference","valid","FormularioComponent_Template_input_ngModelChange_3_listener","$event","FormularioComponent_Template_input_ngModelChange_4_listener","ɵɵtemplate","FormularioComponent_button_7_Template","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\VIC\\Documents\\VICTOR CRUZ GOMEZ\\Master Desarrollo\\Desarrollo web\\11 Angular\\listado-personas-app\\src\\app\\personas\\formulario\\formulario.component.ts","C:\\Users\\VIC\\Documents\\VICTOR CRUZ GOMEZ\\Master Desarrollo\\Desarrollo web\\11 Angular\\listado-personas-app\\src\\app\\personas\\formulario\\formulario.component.html"],"sourcesContent":["import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Output,\n  ViewChild,\n  OnInit,\n} from '@angular/core';\nimport { Persona } from '../../persona.model';\nimport { outputAst } from '@angular/compiler';\nimport { LoggingService } from '../../logging.service';\nimport { PersonasService } from '../../personas.service';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-formulario',\n  templateUrl: './formulario.component.html',\n  styleUrls: ['./formulario.component.css'],\n  //providers:[LoggingService] //Inyeccion de dependencia\n})\nexport class FormularioComponent {\n  // @Output()\n  // personaCreada=new EventEmitter<Persona>();\n\n  nombreInput: string = '';\n  apellidoInput: string = '';\n  i: number;\n  modoEdicion:number;\n\n  // @ViewChild('nombreInput')\n  // nombreInput:ElementRef;\n\n  // @ViewChild('apellidoInput')\n  // apellidoInput:ElementRef;\n\n  // agregarPersona(){\n  //   let persona1=new Persona(this.nombreInput,this.apellidoInput);\n  //   this.personaCreada.emit(persona1);\n  // }\n\n  // agregarPersona(nombreInput:HTMLInputElement, apellidoInput:HTMLInputElement){\n  //   let persona1=new Persona(nombreInput.value, apellidoInput.value);\n  //   this.personaCreada.emit(persona1);\n  // }\n\n  //Inyeccion de dependencia\n  constructor(\n    private loggingService: LoggingService,\n    private personasService: PersonasService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {\n    this.personasService.saludar.subscribe((i: number) =>\n      alert('El indici es:' + i)\n    );\n  }\n\n  // agregarPersona(){\n  //   let persona1=new Persona(this.nombreInput.nativeElement.value, this.apellidoInput.nativeElement.value);\n  //   this.loggingService.enviaMensajeAconsoloca(\"Enviamos persona:\"+persona1.nombre);\n  //   this.personasService.agregarPersona(persona1);\n  //   //this.personaCreada.emit(persona1);\n  // }\n\n  ngOnInit() {\n    this.i = this.route.snapshot.params['id'];\n    this.modoEdicion=+this.route.snapshot.queryParams['modoEdicion']; //Con + convierte automaticamente a entero\n\n    if(this.modoEdicion!=null && this.modoEdicion===1){ //Si el indice es diferente de nulo, entonces editar\n      let persona:Persona=this.personasService.encontrarPersona(this.i);\n      this.nombreInput=persona.nombre;\n      this.apellidoInput=persona.apellido;\n    }\n  }\n\n  onGuardarPersona() {\n    let persona1 = new Persona(this.nombreInput, this.apellidoInput);\n    // this.loggingService.enviaMensajeAconsoloca(\n    //   'Enviamos persona:' + persona1.nombre\n    // );\n\n    if (this.modoEdicion!=null && this.modoEdicion===1) { //modo edicion\n      this.personasService.modificarPersona(this.i, persona1);\n    }else{\n      this.personasService.agregarPersona(persona1);\n    }\n\n    this.router.navigate(['personas']);\n  }\n\n  eliminarPersona(){\n    if(this.i!=null){\n      this.personasService.eliminarPersona(this.i);\n    }\n    this.router.navigate(['personas']);\n  }\n}\n","<div class=\"box\">\n  <form class=\"item\" #f=\"ngForm\" (ngSubmit)=\"f.valid && onGuardarPersona()\">\n    <input type=\"text\" name=\"nombre\" id=\"nombre\" placeholder=\"Nombre\" [(ngModel)]=\"nombreInput\" required>\n\n    <input type=\"text\" name=\"apellido\" id=\"apellido\" placeholder=\"apellido\" [(ngModel)]=\"apellidoInput\" required=\"\">\n\n    <button type=\"submit\" style=\"cursor: pointer;\">+</button>\n    <button *ngIf=\"i!=null\" type=\"submit\" style=\"cursor:pointer\" class=\"buttonRed\"\n      (click)=\"eliminarPersona()\">-</button>\n  </form>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}